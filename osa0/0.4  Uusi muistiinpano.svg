<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="726px" preserveAspectRatio="none" style="width:854px;height:726px;" version="1.1" viewBox="0 0 854 726" width="854px" zoomAndPan="magnify"><defs><filter height="300%" id="f183u0uty68zwf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="346" y="23.5352">0.4: Uusi muistiinpano</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="177" x2="177" y1="68.9766" y2="685.8086"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="653.5" x2="653.5" y1="68.9766" y2="685.8086"/><rect fill="#FEFECE" filter="url(#f183u0uty68zwf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="148" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="155" y="54.0234">selain</text><rect fill="#FEFECE" filter="url(#f183u0uty68zwf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="148" y="684.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="155" y="705.3438">selain</text><rect fill="#FEFECE" filter="url(#f183u0uty68zwf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="618.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="625.5" y="54.0234">palvelin</text><rect fill="#FEFECE" filter="url(#f183u0uty68zwf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="618.5" y="684.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="625.5" y="705.3438">palvelin</text><path d="M8,83.9766 L8,123.9766 L342,123.9766 L342,93.9766 L332,83.9766 L8,83.9766 " fill="#FBFB77" filter="url(#f183u0uty68zwf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M332,83.9766 L332,93.9766 L342,93.9766 L332,83.9766 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="14" y="101.5449">Käyttäjä klikkaa "Talleta" -nappia, joka saa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="313" x="14" y="116.8555">selaimen lähettämään lomakkeen POST -kutsulla.</text><polygon fill="#A80036" points="642,150.9082,652,154.9082,642,158.9082,646,154.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177" x2="648" y1="154.9082" y2="154.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="432" x="184" y="150.166">HTTP POST https://fullstack-exampleapp.herokuapp.com/new_note</text><path d="M461,167.9082 L461,222.9082 L842,222.9082 L842,177.9082 L832,167.9082 L461,167.9082 " fill="#FBFB77" filter="url(#f183u0uty68zwf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M832,167.9082 L832,177.9082 L842,177.9082 L832,167.9082 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="467" y="185.4766">Palvelin suorittaa koodia, joka lisää tietokantaan uuden</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="467" y="200.7871">muistiinpanon POST-kutsun parametreina annetun datan</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="467" y="216.0977">perusteella, ja ohjaa sitten selaimen /notes -endpointiin.</text><polygon fill="#A80036" points="188,250.1504,178,254.1504,188,258.1504,184,254.1504" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="182" x2="653" y1="254.1504" y2="254.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="421" x="194" y="249.4082">HTTP 302 -&gt; https://fullstack-exampleapp.herokuapp.com/notes</text><polygon fill="#A80036" points="642,279.4609,652,283.4609,642,287.4609,646,283.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177" x2="648" y1="283.4609" y2="283.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="399" x="184" y="278.7188">HTTP GET https://fullstack-exampleapp.herokuapp.com/notes</text><polygon fill="#A80036" points="188,308.7715,178,312.7715,188,316.7715,184,312.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="182" x2="653" y1="312.7715" y2="312.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="194" y="308.0293">&lt;HTML&gt;notes</text><path d="M33,325.7715 L33,365.7715 L316,365.7715 L316,335.7715 L306,325.7715 L33,325.7715 " fill="#FBFB77" filter="url(#f183u0uty68zwf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M306,325.7715 L306,335.7715 L316,335.7715 L306,325.7715 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="39" y="343.3398">Selain parsii HTML:n ja pyytää siinä</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="39" y="358.6504">määritellyt resurssitiedostot palvelimelta.</text><polygon fill="#A80036" points="642,392.7031,652,396.7031,642,400.7031,646,396.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177" x2="648" y1="396.7031" y2="396.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="184" y="391.9609">HTTP GET https://fullstack-exampleapp.herokuapp.com/main.css</text><polygon fill="#A80036" points="188,422.0137,178,426.0137,188,430.0137,184,426.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="182" x2="653" y1="426.0137" y2="426.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="194" y="421.2715">&lt;CSS&gt;main.css</text><polygon fill="#A80036" points="642,451.3242,652,455.3242,642,459.3242,646,455.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177" x2="648" y1="455.3242" y2="455.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="410" x="184" y="450.582">HTTP GET https://fullstack-exampleapp.herokuapp.com/main.js</text><polygon fill="#A80036" points="188,480.6348,178,484.6348,188,488.6348,184,484.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="182" x2="653" y1="484.6348" y2="484.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="194" y="479.8926">&lt;JavaScript&gt;main.js</text><path d="M14,497.6348 L14,537.6348 L335,537.6348 L335,507.6348 L325,497.6348 L14,497.6348 " fill="#FBFB77" filter="url(#f183u0uty68zwf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M325,497.6348 L325,507.6348 L335,507.6348 L325,497.6348 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="20" y="515.2031">Selain alkaa suorittamaan js-koodia,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="20" y="530.5137">joka pyytää päivitetyn JSON-datan palvelimelta.</text><polygon fill="#A80036" points="642,564.5664,652,568.5664,642,572.5664,646,568.5664" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177" x2="648" y1="568.5664" y2="568.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="422" x="184" y="563.8242">HTTP GET https://fullstack-exampleapp.herokuapp.com/data.json</text><polygon fill="#A80036" points="188,593.877,178,597.877,188,601.877,184,597.877" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="182" x2="653" y1="597.877" y2="597.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="453" x="194" y="593.1348">[{"content":"HTML on helppoa","date":"2017-12-10T17:30:31.098Z"}, ...]</text><path d="M24,610.877 L24,665.877 L326,665.877 L326,620.877 L316,610.877 L24,610.877 " fill="#FBFB77" filter="url(#f183u0uty68zwf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M316,610.877 L316,620.877 L326,620.877 L316,610.877 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="30" y="628.4453">selain suorittaa tapahtumankäsittelijän, joka</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="30" y="643.7559">renderöi muistiinpanot näytölle, käyttäjän</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="30" y="659.0664">syöttämä uusi muistiinpano mukaanlukien.</text><!--
@startuml
title 0.4: Uusi muistiinpano

note over selain
Käyttäjä klikkaa "Talleta" -nappia, joka saa
selaimen lähettämään lomakkeen POST -kutsulla.
end note

selain->palvelin: HTTP POST https://fullstack-exampleapp.herokuapp.com/new_note
note over palvelin
Palvelin suorittaa koodia, joka lisää tietokantaan uuden
muistiinpanon POST-kutsun parametreina annetun datan
perusteella, ja ohjaa sitten selaimen /notes -endpointiin.
end note

palvelin- ->selain: HTTP 302 -> https://fullstack-exampleapp.herokuapp.com/notes

selain->palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/notes
palvelin- ->selain: <HTML>notes

note over selain
Selain parsii HTML:n ja pyytää siinä
määritellyt resurssitiedostot palvelimelta.
end note

selain->palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/main.css
palvelin- ->selain: <CSS>main.css
selain->palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/main.js
palvelin- ->selain: <JavaScript>main.js

note over selain
Selain alkaa suorittamaan js-koodia,
joka pyytää päivitetyn JSON-datan palvelimelta.
end note

selain->palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/data.json
palvelin- ->selain: [{"content":"HTML on helppoa","date":"2017-12-10T17:30:31.098Z"}, ...]

note over selain
selain suorittaa tapahtumankäsittelijän, joka
renderöi muistiinpanot näytölle, käyttäjän
syöttämä uusi muistiinpano mukaanlukien.
end note

@enduml

PlantUML version 1.2019.03(Sun Mar 10 13:04:44 EET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 10.0.1+10
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: en
Country: FI
--></g></svg>